import streamlit as st

st.set_page_config(
    page_title="Neural Network",
    page_icon="🧠",
    layout="wide"
)

# สร้างเมนูนำทาง
col1, col2, col3, col4, col5 = st.columns(5)
with col1:
    st.page_link("app.py", label="Home")
with col2:
    st.page_link("pages/1_ml_ex.py", label="ML")
with col3:
    st.page_link("pages/2_nn_ex.py", label="NN")
with col4:
    st.page_link("pages/3_demo_ml.py", label="ML Demo")
with col5:
    st.page_link("pages/4_demo_nn.py", label="NN Demo")

st.header("การอธิบายโมเดล Neural Network สำหรับการทำนายราคาหุ้น Google")

st.subheader("1. ข้อมูลที่ใช้และ Features")
st.markdown("""
ในการทำนายราคาหุ้น Google เราใช้ข้อมูลต่อไปนี้:
ข้อมูลที่ใช้มาจาก Kaggle Dataset: Google Stock Price Data 2020-2025 (GOOGL)
- ที่มา: https://www.kaggle.com/datasets/mzohaibzeeshan/google-stock-price-data-2020-2025-googl
            
#### ข้อมูลพื้นฐาน:
- Date: วันที่ของข้อมูล
- Open: ราคาเปิด
- High: ราคาสูงสุดของวัน
- Low: ราคาต่ำสุดของวัน
- Close: ราคาปิด
- Volume: ปริมาณการซื้อขาย

#### Features ที่สร้างเพิ่มเติม:
- Returns: อัตราผลตอบแทนรายวัน
- MA5: ค่าเฉลี่ยเคลื่อนที่ 5 วัน
- MA20: ค่าเฉลี่ยเคลื่อนที่ 20 วัน
- MA50: ค่าเฉลี่ยเคลื่อนที่ 50 วัน
- Volatility: ความผันผวนของราคา (คำนวณจาก std ของราคาปิด 20 วัน)
- High_Low_Spread: ช่วงห่างระหว่างราคาสูงสุดและต่ำสุด
- Open_Close_Spread: ช่วงห่างระหว่างราคาเปิดและปิด
- Daily_Return: ผลตอบแทนรายวัน
- Previous_Close: ราคาปิดของวันก่อนหน้า
- MA Cross Indicators: ตัวบ่งชี้การตัดกันของค่าเฉลี่ยเคลื่อนที่
- ข้อมูลเวลา: วันในสัปดาห์, เดือน, และการเป็นวันหยุดสุดสัปดาห์
""")

st.subheader("2. การประมวลผลข้อมูล")
st.markdown("""
#### การเตรียมข้อมูล
1. แปลงวันที่เป็นรูปแบบ datetime
2. สร้าง features ทางเทคนิคทั้งหมด
3. จัดการกับค่า missing values (ถ้ามี)
4. ปรับ scale ข้อมูลด้วย Scaler

#### การแบ่งข้อมูล
- ใช้ข้อมูล 20 วันล่าสุดในการสร้าง sequence สำหรับการทำนาย
- ข้อมูลวันล่าสุดจะถูกใช้เป็น input สำหรับการทำนาย
""")

st.subheader("3. โครงสร้างของโมเดล")
st.markdown("""
#### การทำนาย
โมเดลจะทำนายทิศทางของราคาในวันถัดไปว่าจะ:
- เพิ่มขึ้น (probability > 0.5)
- ลดลง (probability < 0.5)

#### ปัจจัยที่ใช้ในการวิเคราะห์
1. การเปรียบเทียบกับค่าเฉลี่ยเคลื่อนที่:
   - ราคาเทียบกับ MA5
   - ราคาเทียบกับ MA20
2. ปริมาณการซื้อขาย:
   - เทียบกับค่าเฉลี่ย
3. ความผันผวน:
   - เทียบกับค่าเฉลี่ยความผันผวน

#### การแสดงผล
- แสดงความน่าจะเป็นของการทำนาย
- แสดงปัจจัยสำคัญที่มีผลต่อการทำนาย
- ใช้สีและไอคอนเพื่อสื่อความหมายที่ชัดเจน
""")

st.subheader("4. การใช้งานโมเดล")
st.markdown("""
#### ขั้นตอนการใช้งาน:
1. กรอกข้อมูล input:
   - วันที่
   - ราคาเปิด
   - ราคาสูงสุด
   - ราคาต่ำสุด
   - ราคาปิด
   - ปริมาณการซื้อขาย

2. ระบบจะ:
   - สร้าง features ทั้งหมดโดยอัตโนมัติ
   - ใช้ข้อมูลย้อนหลัง 19 วันร่วมกับข้อมูล input
   - ทำนายทิศทางราคาในวันถัดไป
   - แสดงผลการทำนายพร้อมปัจจัยที่มีผล

#### ข้อควรระวัง:
- ควรใช้ข้อมูลที่สมเหตุสมผล (เช่น ราคาสูงสุดต้องมากกว่าราคาต่ำสุด)
- ผลการทำนายเป็นเพียงการคาดการณ์ ไม่ใช่คำแนะนำในการลงทุน
- ควรใช้ร่วมกับการวิเคราะห์ปัจจัยอื่นๆ ประกอบการตัดสินใจ
""")
